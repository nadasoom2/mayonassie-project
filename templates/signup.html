<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë§ˆìš”ë„¤ì¦ˆ íšŒì›ê°€ì…</title>
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet" />
  <style>
    body {
      background-color: #fff8e1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      font-family: 'Gowun Dodum', sans-serif;
    }

    h1 {
      color: #ffb300;
      font-size: 2.5rem;
      margin-bottom: 20px;
    }

    .form-box {
      background-color: #fff;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      width: 300px;
      text-align: center;
    }

    input {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 1rem;
      font-family: 'Gowun Dodum', sans-serif;
    }

    button {
      width: 100%;
      padding: 12px;
      background-color: #ffcc80;
      border: none;
      border-radius: 30px;
      font-size: 1.1rem;
      color: white;
      cursor: pointer;
      margin-top: 15px;
      transition: background-color 0.3s;
      font-family: 'Gowun Dodum', sans-serif;
    }

    button:hover {
      background-color: #ffa726;
    }

    .footer {
      position: absolute;
      bottom: 10px;
      font-size: 0.9rem;
      color: #999;
    }

    /* ê°œì¸ì •ë³´ ë™ì˜ì„œ css */
    .modal {
      display: none;
      position: fixed;
      z-index: 9999;
      padding-top: 80px;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.5);
    }

    .modal-content {
      background-color: #fff;
      margin: auto;
      padding: 30px;
      border: 1px solid #888;
      width: 80%;
      max-width: 600px;
      border-radius: 10px;
      font-family: 'Gowun Dodum', sans-serif;
    }

    .modal-content h2 {
      margin-top: 0;
    }

    .modal-content p {
      margin-bottom: 10px;
      line-height: 1.6;
    }

    .checkbox {
      margin: 15px 0;
    }

    .checkbox label {
      cursor: pointer;
      display: flex;
      align-items: center;
    }

    .checkbox input[type="checkbox"] {
      margin: 0;
      padding: 0;
      width: 16px;
      height: 16px;
    }

    .checkbox span {
      margin-left: 5px;
    }


    .modal-buttons {
      text-align: right;
    }

    .btn {
      padding: 8px 16px;
      margin-left: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Gowun Dodum', sans-serif;
    }

    .btn-agree {
      background-color: #4CAF50;
      color: white;
    }

    .btn-cancel {
      background-color: #ccc;
    }

    .back-circle {
      position: absolute;
      top: 255px;         /* ë°•ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ ì•½ê°„ ìœ„ */
      left: calc(50% - 115px);  /* ë°•ìŠ¤ì˜ ì™¼ìª½ ìƒë‹¨ ë°”ê¹¥ìª½ìœ¼ë¡œ ë§ì¶¤ (ê°€ë¡œ 300pxì´ë¯€ë¡œ ì ˆë°˜-150px) */
      transform: translateX(-60px);  /* ì‚´ì§ ë” ì™¼ìª½ìœ¼ë¡œ */
      background-color: #ffcc80;
      color: white;
      border: none;
      border-radius: 50%;
      width: 25px;
      height: 25px;
      font-size: 1.1rem;
      font-weight: 800;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s;
      text-decoration: none;
    }

    .back-circle:hover {
      background-color: #ffa726;
    }
  </style>
</head>
<body>
  <h1>íšŒì›ê°€ì…</h1>
  <div class="form-box">
    <a href="/" class="back-circle">â†</a>
    <form method="POST" action="/register" id="registerForm">
      <label><strong>ë‹‰ë„¤ì„ (ìë™ ìƒì„±)</strong></label>
      <input type="text" name="userid" id="userid" readonly />

      <input type="password" name="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”" required />

      <input type="text" name="phone" placeholder="ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" required />

      <!-- ğŸ”½ type="submit" ëŒ€ì‹  type="button"ìœ¼ë¡œ ë°”ê¾¸ê³  í´ë¦­ ì‹œ handleConsent() ì‹¤í–‰ -->
      <button type="button" onclick="handleConsent()">íšŒì›ê°€ì… ì™„ë£Œ</button>
    </form>

    <!-- <a href="/home">
      <button style="margin-top: 10px">ë’¤ë¡œê°€ê¸°</button>
    </a> -->

  </div>


    <div class="footer">
      010@naver.com - ë¬¸ì œ ìˆì„ ì‹œ ë©”ì¼ ë‚¨ê²¨ì£¼ì„¸ìš”!
    </div>

    <!-- ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë™ì˜ì„œ ëª¨ë‹¬ -->
  <div id="consentModal" class="modal">
    <div class="modal-content">
      <h2>ğŸ“„ ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš© ë™ì˜ì„œ</h2>
      <p><strong>1. ìˆ˜ì§‘ í•­ëª©</strong>: ì „í™”ë²ˆí˜¸, ì•„ì´ë””, ë¹„ë°€ë²ˆí˜¸, ì„¤ë¬¸ ì‘ë‹µ, AI ëŒ€í™” ê¸°ë¡(ì¼ê¸° í¬í•¨)</p>
      <p><strong>2. ì´ìš© ëª©ì </strong>: ë³¸ì¸ í™•ì¸, ê°ì • ë¶„ì„, ì¼ê¸° ì œê³µ, ì—°êµ¬ ëª©ì ì˜ í†µê³„ ë¶„ì„</p>
      <p><strong>3. ë³´ìœ  ê¸°ê°„</strong>: íšŒì› íƒˆí‡´ ì‹œê¹Œì§€. ê´€ë ¨ ë²•ë ¹ì— ë”°ë¥¸ ë³´ê´€ ì˜ˆì™¸ ì¡´ì¬</p>
      <p><strong>4. ì œ3ì ì œê³µ</strong>: ì—°êµ¬ê¸°ê´€ì— <b>ìµëª…í™”ëœ ì„¤ë¬¸ ë°ì´í„°ë§Œ ì œê³µ</b>, ì‹ë³„ ì •ë³´ëŠ” ì™¸ë¶€ ì œê³µ ì—†ìŒ</p>
      <p style="font-size: 13px;">*ë™ì˜ ê±°ë¶€ ê¶Œë¦¬: ë™ì˜í•˜ì§€ ì•Šì„ ê²½ìš° ì„œë¹„ìŠ¤ ì´ìš©ì´ ì œí•œë  ìˆ˜ ìˆìŒ</p>

      <div class="checkbox">
        <label for="agreeCheckbox">
          <input type="checkbox" id="agreeCheckbox" />
          <span>ìœ„ ë‚´ìš©ì„ ëª¨ë‘ ì½ê³  ë™ì˜í•©ë‹ˆë‹¤.</span>
        </label>
      </div>


      <div class="modal-buttons">
        <button class="btn btn-cancel" onclick="closeModal()">ì·¨ì†Œ</button>
        <button class="btn btn-agree" onclick="submitForm()">ë™ì˜í•¨</button>
      </div>
    </div>
  </div>


  <script>
    const words = ["í‘¸ë¥¸ë³„", "í–‡ì‚´", "ë‹¬ë¹›", "ë°”ëŒê²°", "ë‚˜ë­‡ì", "ë´„ê½ƒ", "ê²¨ìš¸ëˆˆ", "íŒŒë€í•˜ëŠ˜",
                   "ë…¸ë€ê³ ì–‘ì´", "ì´ˆì½”ì¿ í‚¤", "í¬ê·¼ë‹´ìš”", "ë°˜ì§ë³„", "ë”°ëœ»í–‡ì‚´", "ì†œì‚¬íƒ•", "ë¹„ì˜¤ëŠ”ë‚ ", "ìƒˆë²½ê³µê¸°"];

    function generateRandomKoreanId() {
      const word = words[Math.floor(Math.random() * words.length)];
      const number = Math.floor(Math.random() * 1000);
      return word + number;
    }

    const newId = generateRandomKoreanId();
    document.getElementById("userid").value = newId;

    let isConsentShown = false;

    function handleConsent() {
      if (!isConsentShown) {
        document.getElementById('consentModal').style.display = 'block';
        isConsentShown = true;
      } else {
        submitForm(); // ì´ë¯¸ ë™ì˜í•œ ê²½ìš°
      }
    }

    function submitForm() {
      const checkbox = document.getElementById('agreeCheckbox');
      if (!checkbox.checked) {
        alert("ë™ì˜í•¨ì— ì²´í¬í•´ ì£¼ì„¸ìš”.");
        return;
      }
      document.getElementById('registerForm').submit();
    }


    function closeModal() {
      document.getElementById('consentModal').style.display = 'none';
      isConsentShown = false;
    }
    

  </script>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <script>
        alert("{{ messages[0] }}");
      </script>
    {% endif %}
  {% endwith %}

<!-- {% if signup_failed is defined and signup_failed == true %}
  <script>
    alert("âŒ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì•„ì´ë”” ë˜ëŠ” ì „í™”ë²ˆí˜¸ì…ë‹ˆë‹¤.");
  </script>
{% endif %}

{% if signup_success is defined and signup_success == true %}
  <script>
    alert("âœ… íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.");
  </script>
{% endif %}
   -->
</body>
</html>
