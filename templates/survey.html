<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë§ˆìš”ë„¤ì¦ˆ ê°ì • ì„¤ë¬¸ì¡°ì‚¬</title>
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet" />
  <link href="https://unpkg.com/survey-core/defaultV2.min.css" rel="stylesheet" />
  <script src="https://unpkg.com/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://unpkg.com/survey-jquery@1.9.100/survey.jquery.min.js"></script>
   <style>
    :root {
      --primary: #ff9800;
      --secondary: #ffcc80;
      --bg-gradient-start: #fffaf0;
      --bg-gradient-end: #fff8e1;
      --text-color: #333;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, var(--bg-gradient-start), var(--bg-gradient-end));
      font-family: 'Gowun Dodum', sans-serif;
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 40px 20px;
    }

    .back-circle {
      position: absolute;
      top: 20px;
      left: 20px;
      background: var(--primary);
      color: #fff;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      font-size: 1.5rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transition: background 0.3s ease;
    }
    .back-circle:hover {
      background: var(--secondary);
    }

    h2 {
      margin: 0 0 20px;
      font-size: 2.2rem;
      color: var(--primary);
      text-align: center;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }

    #surveyContainer {
      width: 100%;
      max-width: 800px;
      background: rgba(255,255,255,0.95);
      border-radius: 16px;
      padding: 40px 30px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.1);
      margin-bottom: 40px;
      font-family: 'Gowun Dodum', sans-serif;
    }

    /* SurveyJS ê¸°ë³¸ UI ì œê±° */
    button.sv_q_clear_btn,
    button.sv_q_comment_btn_clear,
    .sv_q_actions,
    .sv_q_action_bar,
    .sv_q_action {
      display: none !important;
    }

    button.sv_q_clear_btn {
      display: none !important;
    }

    .sv_q_clear_btn,
    .sv_q_comment_btn_clear,
    .sv_q_dropdown__clear-button,
    .sv-action-bar,
    .sv-footer__menu {
      display: none !important;
    }


    /* ì§ˆë¬¸ ì œëª© ê°•ì¡° */
    .sv_q_title {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }
    .sv_q_title + .sv_q_description {
      font-size: 0.95rem;
      color: #666;
      margin-bottom: 1.5rem;
    }

    /* ë¼ë””ì˜¤ ê·¸ë£¹ spacing */
    .sv_q_radiogroup {
      margin-bottom: 2rem;
    }
    .sv_q_radiogroup .sv-item label {
      padding: 10px 14px;
      border-radius: 8px;
      transition: background 0.2s;
    }
    .sv_q_radiogroup .sv-item input:checked + label {
      background: var(--secondary);
      color: #333;
      font-weight: 500;
    }

    /* í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ */
    .sv-footer {
      width: 100%;
      text-align: right;
      margin-top: 20px;
    }

    /* SurveyJS í•˜ë‹¨ ë²„íŠ¼ ì •ë ¬ ê³ ì • */
    .sv-footer__row {
      display: flex !important;
      flex-direction: row-reverse !important; /* Next ì˜¤ë¥¸ìª½, Prev ì™¼ìª½ */
      justify-content: flex-end !important;
      align-items: center !important;
      gap: 12px !important;
    }

    .sv-footer__row > div {
      display: flex !important;
      flex-direction: row !important;
      gap: 12px;
    }

    /* ë‹¤ìŒ ë²„íŠ¼ */
    .sv-footer__next-btn {
      background: var(--primary) !important;
      color: #fff !important;
      padding: 12px 28px;
      border: none;
      border-radius: 30px;
      font-size: 1rem;
      cursor: pointer;
      font-family: 'Gowun Dodum', sans-serif;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .sv-footer__next-btn:hover {
      background: var(--secondary) !important;
    }

    /* ì´ì „ ë²„íŠ¼ */
    .sv-footer__prev-btn {
      background: #ccc !important;
      color: var(--text-color) !important;
      padding: 12px 28px;
      border: none;
      border-radius: 30px;
      font-size: 1rem;
      cursor: pointer;
      font-family: 'Gowun Dodum', sans-serif;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .sv-footer__prev-btn:hover {
      background: #bbb !important;
    }


    /* ì´ì „ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    button[data-role="prev"] {
      background: #ccc;
      color: var(--text-color);
      padding: 12px 28px;
      border-radius: 30px;
      font-size: 1rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transition: background 0.3s ease;
      margin-left: 8px;
    }

    button[data-role="prev"]:hover {
      background: #bbb;
    }

    /* ë‹¤ìŒ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    button[data-role="next"] {
      background: var(--primary);
      color: #fff;
      padding: 12px 28px;
      border-radius: 30px;
      font-size: 1rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transition: background 0.3s ease;
      margin-right: 8px;
    }

    button[data-role="next"]:hover {
      background: var(--secondary);
    }



    #completeMessage {
      display: none;
      text-align: center;
    }
    #completeMessage h3 {
      margin-bottom: 20px;
      font-size: 1.8rem;
      color: var(--primary);
    }
    #resultBtn {
      padding: 14px 32px;
      font-size: 1.1rem;
      background: var(--primary);
      color: #fff;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    #resultBtn:hover {
      background: var(--secondary);
    }

    /* SurveyJS ê¸°ë³¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• */
    input[type="button"], .sv-footer input[type="button"], .sv-footer button {
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 10px 24px;
      border-radius: 30px;
      font-family: 'Gowun Dodum', sans-serif;
      font-size: 1rem;
      cursor: pointer;
      margin-top: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      transition: background 0.3s ease;
    }

    input[type="button"]:hover, .sv-footer input[type="button"]:hover, .sv-footer button:hover {
      background-color: var(--secondary);
    }

    /* ë²„íŠ¼ í–‰ì„ ì˜¤ë¥¸ìª½ ëìœ¼ë¡œ ì •ë ¬ */
    .sd-footer.sd-body.sd-navigation.sd-clearfix {
      display: flex !important;
      flex-direction: row-reverse !important;
      justify-content: space-between !important; /* â† ì´ê²Œ í•µì‹¬ */
      align-items: center;
      padding: 0 20px;
    }

    /* ë²„íŠ¼ë“¤ì„ í•œ ì¤„ë¡œ ì •ë ¬ */
    .sd-footer .sv-action {
      display: inline-flex !important;
    }

    /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ ê°„ê²© */
    .sd-footer .sv-action input[type="button"] {
      margin-left: 12px;
    }

    
  </style>
</head>
<body>
  <a href="/home" class="back-circle">â†</a>
  <h2>ë‹¹ì‹ ì˜ ê°ì •ì„ ê³µìœ í•´ì£¼ì„¸ìš” ğŸ˜Š</h2>
  <!-- <div style="margin: 10px 0 20px; font-size: 1rem; text-align: center; color: #777;">
    ğŸ˜ ê°€ì¥ ì•½í•¨ â†’ ğŸ˜­ ë˜ëŠ” ğŸ”¥ ê°€ì¥ ê°•í•¨<br/>
  ê°ì •ì˜ ê°•ë„ë¥¼ ì´ëª¨ì§€ë¡œ í‘œí˜„í–ˆì–´ìš”.
  </div> -->

  <div id="surveyContainer"></div>

  <button id="skipBtn" style="display:none; margin: 20px; padding: 12px 24px; border-radius: 30px; background-color: #ccc; color: #333; border: none; cursor: pointer;">
  ê±´ë„ˆë›°ê¸°</button>

  <div id="completeMessage">
    <h3>ì„¤ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ’›</h3>
    <button id="resultBtn">ê²°ê³¼ ë³´ëŸ¬ê°€ê¸°</button>
  </div>

  <!-- ì„¤ë¬¸ ì„¤ëª… íŒì—… -->
  <div id="surveyIntroModal" style="display: flex; position: fixed; top:0; left:0; right:0; bottom:0; background: rgba(0,0,0,0.4); align-items: center; justify-content: center; z-index: 9999;">
    <div style="background: white; padding: 30px 25px; border-radius: 16px; width: 90%; max-width: 400px; text-align: center; font-family: 'Gowun Dodum', sans-serif;">
      <h2 style="margin-top: 0; color: #ff9800;">ğŸ“Š ê°ì • ì„¤ë¬¸ ì•ˆë‚´</h2>
      <p style="font-size: 1rem; margin-bottom: 20px;">
        ì§€ê¸ˆë¶€í„° ê°„ë‹¨í•œ ì„¤ë¬¸ì„ í†µí•´<br/>
        í˜„ì¬ ëŠë¼ëŠ” ê°ì •ì„ í•¨ê»˜ ì•Œì•„ë³¼ ê±°ì˜ˆìš”.<br/>
        ì§ˆë¬¸ì€ ì§§ê³  ê°„ë‹¨í•´ìš”.<br/>
        ë„ˆë¬´ ê³ ë¯¼í•˜ì§€ ë§ê³ , í¸í•˜ê²Œ ì‘ë‹µí•´ì£¼ì„¸ìš” ğŸ˜Š
      </p>
      <div style="margin-top: 10px; margin-bottom: 20px; text-align: center;">
        <div style="display: flex; justify-content: center; gap: 6px; margin-bottom: 5px;">
          <div style="width: 32px; height: 32px; background: #eee; border-radius: 8px; display: flex; align-items: center; justify-content: center;">ğŸ˜</div>
          <div style="width: 32px; height: 32px; background: #eee; border-radius: 8px; display: flex; align-items: center; justify-content: center;">ğŸ˜Ÿ</div>
          <div style="width: 32px; height: 32px; background: #eee; border-radius: 8px; display: flex; align-items: center; justify-content: center;">ğŸ˜¢</div>
          <div style="width: 32px; height: 32px; background: #eee; border-radius: 8px; display: flex; align-items: center; justify-content: center;">ğŸ˜­</div>
          <div style="width: 32px; height: 32px; background: #eee; border-radius: 8px; display: flex; align-items: center; justify-content: center;">ğŸ”¥</div>
        </div>
        <div style="font-size: 0.9rem; color: #555;">â† ì•½í•¨&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ê°•í•¨ â†’</div>
      </div>

      <button onclick="closeSurveyIntro()" style="padding: 10px 20px; background: #ffb74d; border: none; border-radius: 12px; color: white; font-size: 1rem; font-weight: bold;">ì‹œì‘í•˜ê¸°</button>
    </div>
  </div>

  <script>
    Survey.StylesManager.applyTheme("defaultV2");
    Survey.Serializer.findProperty("radiogroup", "showClearButton").defaultValue = false;

    const surveyJson = {
      locale: "ko",
      title: { ko: "ë§ˆìš”ë„¤ì¦ˆ ê°ì • ì„¤ë¬¸ì¡°ì‚¬" },
      headerView: "advanced",
      showQuestionNumbers: "off",
      showCompletedPage: false,
      showNavigationButtons: true,
      showProgressBar: "none",
      pages: [
        // 1. ì–´ë–¤ ê°ì •ì„ ëŠë¼ì…¨ë‚˜ìš”?#####################################################ì—¬ê¸°ì•¼!!!!!!!
        {
          name: "page1",
          title: "ìš”ì¦˜ ë§ˆìŒì— ê°€ì¥ ìì£¼ ë¨¸ë¬´ëŠ” ê°ì •ì€ ë¬´ì—‡ì¸ê°€ìš”?",
          description: "ìµœê·¼ 3ê°œì›” ë™ì•ˆ ì•„ë˜ì™€ ê°™ì€ ë§ˆìŒì´ ìŠ¤ì³ê°„ ì ì´ ìˆë‹¤ë©´, 'ë„¤'ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”. ê´œì°®ì•„ìš”, ì†”ì§í•´ë„ ë¼ìš”.",
          elements: [
            {
              type: "radiogroup",
              name: "ë¶„ë…¸",
              title: "ëˆ„êµ°ê°€ì˜ ë§ì´ë‚˜ í–‰ë™ì— ë§ˆìŒì´ ë¶€í’€ì–´ ì˜¤ë¥´ê³ , ì°¸ê¸° ì–´ë ¤ìš´ ìˆœê°„ì´ ìˆì—ˆë‚˜ìš”?",
              isRequired: true,
              showClearButton : false,
              colCount: 2,
              choices: [
                { value: "true", text: "ë„¤" },
                { value: "false", text: "ì•„ë‹ˆìš”" }
              ]
            },
            {
              type: "radiogroup",
              name: "ìš°ìš¸",
              title: "í•˜ë£¨ê°€ ì§€ë‚˜ë„ ë§ˆìŒì´ ë‚˜ì•„ì§€ì§€ ì•Šì•˜ë˜ ì ì´ ìˆë‚˜ìš”?",
              isRequired: true,
              showClearButton : false,
              colCount: 2,
              choices: [
                { value: "true", text: "ë„¤" },
                { value: "false", text: "ì•„ë‹ˆìš”" }
              ]
            },
            {
              type: "radiogroup",
              name: "ë¶ˆì•ˆ",
              title: "ì‘ì€ ì¼ì—ë„ ë§ˆìŒì´ ì¡°ë§ˆì¡°ë§ˆí•˜ê±°ë‚˜ ê¸´ì¥ëœ ëŠë‚Œì´ ë“¤ì—ˆë˜ ì ì´ ìˆë‚˜ìš”?",
              isRequired: true,
              showClearButton : false,
              colCount: 2,
              choices: [
                { value: "true", text: "ë„¤" },
                { value: "false", text: "ì•„ë‹ˆìš”" }
              ]
            },
            {
              type: "radiogroup",
              name: "ì™¸ë¡œì›€",
              title: "ì‚¬ëŒë“¤ ì†ì— ìˆì–´ë„ ë§ˆìŒ í•œì¼ ì´ í…… ë¹ˆ ë“¯í•œ ëŠë‚Œì´ ë“  ì ì´ ìˆì—ˆë‚˜ìš”?",
              isRequired: true,
              showClearButton : false,
              colCount: 2,
              choices: [
                { value: "true", text: "ë„¤" },
                { value: "false", text: "ì•„ë‹ˆìš”" }
              ]
            },
            {
              type: "radiogroup",
              name: "ë¬´ê¸°ë ¥",
              title: "í•´ì•¼ í•  ì¼ì´ ìˆì–´ë„ ì†ì´ ê°€ì§€ ì•Šì•˜ë˜ ë‚ ì´ ìˆì—ˆë‚˜ìš”?",
              isRequired: true,
              showClearButton : false,
              colCount: 2,
              choices: [
                { value: "true", text: "ë„¤" },
                { value: "false", text: "ì•„ë‹ˆìš”" }
              ]
            },
            {
              type: "radiogroup",
              name: "ìŠ¬í””",
              title: "ê´œì°®ì€ ì²™í–ˆì§€ë§Œ, í˜¼ì ìˆì„ ë•Œ ë¬¸ë“ ëˆˆë¬¼ì´ ì°¨ì˜¬ëë˜ ì ì´ ìˆë‚˜ìš”?",
              isRequired: true,
              showClearButton : false,
              colCount: 2,
              choices: [
                { value: "true", text: "ë„¤" },
                { value: "false", text: "ì•„ë‹ˆìš”" }
              ]
            },
            {
              type: "radiogroup",
              name: "ê¸°ì¨",
              title: "ìš”ì¦˜, ë‚˜ë„ ëª¨ë¥´ê²Œ ì›ƒìŒì´ í„°ì§€ëŠ” ìˆœê°„ë“¤ì´ ìˆì§„ ì•Šì•˜ë‚˜ìš”?",
              isRequired: true,
              showClearButton : false,
              colCount: 2,
              choices: [
                { value: "true", text: "ë„¤" },
                { value: "false", text: "ì•„ë‹ˆìš”" }
              ]
            },
            {
              type: "radiogroup",
              name: "í–‰ë³µ",
              title: "â€œì§€ê¸ˆ ì´ ìˆœê°„ ì°¸ ì¢‹ë‹¤â€ëŠ” ìƒê°ì´ ë“¤ì—ˆë˜ ì ì´ ìˆì—ˆë‚˜ìš”?",
              isRequired: true,
              showClearButton : false,
              colCount: 2,
              choices: [
                { value: "true", text: "ë„¤" },
                { value: "false", text: "ì•„ë‹ˆìš”" }
              ]
            },
            {
              type: "radiogroup",
              name: "í‰ì˜¨",
              title: "ë§ˆìŒì´ ê³ ìš”í•˜ê²Œ ê°€ë¼ì•‰ê³ , ë‚˜ ìì‹ ê³¼ ì¡°í™”ë¥¼ ì´ë£¨ëŠ” ìˆœê°„ì´ ìˆì—ˆë‚˜ìš”?",
              isRequired: true,
              showClearButton : false,
              colCount: 2,
              choices: [
                { value: "true", text: "ë„¤" },
                { value: "false", text: "ì•„ë‹ˆìš”" }
              ]
            },
            {
              type: "radiogroup",
              name: "ë§Œì¡±ê°",
              title: "ë‚˜ë¥¼ í–¥í•´ â€˜ì˜í–ˆì–´â€™ë¼ê³  ë§í•´ì£¼ê³  ì‹¶ì€ ìˆœê°„ì´ ìˆì—ˆë‚˜ìš”?",
              isRequired: true,
              showClearButton : false,
              colCount: 2,
              choices: [
                { value: "true", text: "ë„¤" },
                { value: "false", text: "ì•„ë‹ˆìš”" }
              ]
            }
          ]
        },
       // ####################################################

        // 2. ë¶€ì • ê°ì • ì„¤ë¬¸
        {
          name: "page2",
          title: "ë¶€ì • ê°ì • ì„¤ë¬¸",
          description: "ì„ íƒí•˜ì‹  ë¶€ì • ê°ì •ì— ëŒ€í•´ ë‹µí•´ì£¼ì„¸ìš”.",
          elements: [
            // ë¶„ë…¸ ì§ˆë¬¸ 3ê°œ
            {
              type: "panel",
              title: "ğŸ˜¡",
              visibleIf: "{ë¶„ë…¸} = true",
              elements: [
                {
                  type: "rating",
                  name: "anger1",
                  title: "ë§ì´ ë§‰í˜”ì„ ë•Œ, â€œë‚´ ë§ì€ ì™œ ì•ˆ í†µí•˜ì§€?â€ ë¼ëŠ” ìƒê°ì´ ë“  ì ì´ ìˆë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value:1, text:"ğŸ˜" },
                    { value:2, text:"ğŸ˜¤" },
                    { value:3, text:"ğŸ˜ " },
                    { value:4, text:"ğŸ˜¡" },
                    { value:5, text:"ğŸ”¥" }
                  ]
                },
                {
                  type: "rating",
                  name: "anger2",
                  title: "ìƒëŒ€ë°©ì´ ë‚  ë¬´ì‹œí•œë‹¤ê³  ëŠê»´ì ¸ì„œ í™”ê°€ ì¹˜ë°€ì—ˆë˜ ìˆœê°„ì´ ìˆë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value:1, text:"ğŸ˜" },
                    { value:2, text:"ğŸ˜¤" },
                    { value:3, text:"ğŸ˜ " },
                    { value:4, text:"ğŸ˜¡" },
                    { value:5, text:"ğŸ”¥" }
                  ]
                }
              ]
            },
            // ìš°ìš¸ ì§ˆë¬¸ 3ê°œ
            {
              type: "panel",
              title: "ğŸŒ§",
              visibleIf: "{ìš°ìš¸} = true",
              elements: [
                {
                  type: "rating",
                  name: "depress1",
                  title: "íŠ¹ë³„í•œ ì´ìœ  ì—†ì´ ê¸°ìš´ì´ ë¹ ì§€ê³  ë¬´ê¸°ë ¥í–ˆë˜ ë‚ ì´ ìˆì—ˆë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value:1, text:"ğŸ˜" },
                    { value:2, text:"ğŸ™" },
                    { value:3, text:"ğŸ˜" },
                    { value:4, text:"ğŸ˜©" },
                    { value:5, text:"ğŸ˜­" }
                  ]
                },
                {
                  type: "rating",
                  name: "depress2",
                  title: "ì‚¬ëŒë“¤ ì•ì—ì„œëŠ” ë°ì€ ëª¨ìŠµìœ¼ë¡œ ì›ƒì§€ë§Œ ì§‘ì— í˜¼ì ìˆì„ ë•ŒëŠ” ìš°ìš¸í•œ ê¸°ë¶„ì´ë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value:1, text:"ğŸ˜" },
                    { value:2, text:"ğŸ™" },
                    { value:3, text:"ğŸ˜" },
                    { value:4, text:"ğŸ˜©" },
                    { value:5, text:"ğŸ˜­" }
                  ]
                }
              ]
            },
            // ë¶ˆì•ˆ ì§ˆë¬¸ 3ê°œ
            {
              type: "panel",
              title: "ğŸ˜¬",
              visibleIf: "{ë¶ˆì•ˆ} = true",
              elements: [
                {
                  type: "rating",
                  name: "anxiety1",
                  title: "ì˜í•˜ê³  ìˆì–´ë„ â€œí˜¹ì‹œ ë¶€ì¡±í•˜ì§€ ì•Šì„ê¹Œ?â€ ê±±ì •ì´ ë“ ë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value:1, text:"ğŸ˜" },
                    { value:2, text:"ğŸ˜¬" },
                    { value:3, text:"ğŸ˜Ÿ" },
                    { value:4, text:"ğŸ˜°" },
                    { value:5, text:"ğŸ˜±" }
                  ]
                },
                {
                  type: "rating",
                  name: "anxiety2",
                  title: "ìë ¤ê³  ëˆ„ì› ì„ ë•Œ, í•˜ë£¨ê°€ ë– ì˜¤ë¥´ë©° ë¶ˆì•ˆì´ ëª°ë ¤ì˜¬ ë•Œê°€ ìˆë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value:1, text:"ğŸ˜" },
                    { value:2, text:"ğŸ˜¬" },
                    { value:3, text:"ğŸ˜Ÿ" },
                    { value:4, text:"ğŸ˜°" },
                    { value:5, text:"ğŸ˜±" }
                  ]
                }
              ]
            },
            // ì™¸ë¡œì›€ ì§ˆë¬¸ 3ê°œ
            {
              type: "panel",
              title: "ğŸ¥º",
              visibleIf: "{ì™¸ë¡œì›€} = true",
              elements: [
                {
                  type: "rating",
                  name: "lonely1",
                  title: "ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ìˆì–´ë„ ë§ˆìŒì†ì—” í…… ë¹ˆ ëŠë‚Œì´ ë“¤ ë•Œê°€ ìˆë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value:1, text:"ğŸ˜" },
                    { value:2, text:"ğŸ¥º" },
                    { value:3, text:"ğŸ˜¢" },
                    { value:4, text:"ğŸ˜”" },
                    { value:5, text:"ğŸ˜­" }
                  ]
                },
                {
                  type: "rating",
                  name: "lonely2",
                  title: "í˜ë“¤ë‹¤ê³  í„¸ì–´ë†“ì„ ì‚¬ëŒì´ ìƒê°ë‚˜ì§€ ì•Šì•„ ë” ì™¸ë¡œì› ë˜ ìˆœê°„ì´ ìˆë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value:1, text:"ğŸ˜" },
                    { value:2, text:"ğŸ¥º" },
                    { value:3, text:"ğŸ˜¢" },
                    { value:4, text:"ğŸ˜”" },
                    { value:5, text:"ğŸ˜­" }
                  ]
                }
              ]
            },
            // ë¬´ê¸°ë ¥ ì§ˆë¬¸ 3ê°œ
            {
              type: "panel",
              title: "ğŸ˜“",
              visibleIf: "{ë¬´ê¸°ë ¥} = true",
              elements: [
                {
                  type: "rating", name: "fatigue1",
                  title: "ì£¼ë³€ ì‚¬ëŒë“¤ì´ ì—´ì‹¬íˆ ì‚´ì•„ê°€ëŠ” ëª¨ìŠµì´ ë¶€ëŸ½ê³  ë©€ê²Œ ëŠê»´ì¡Œë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value:1, text:"ğŸ˜" },
                    { value:2, text:"ğŸ˜“" },
                    { value:3, text:"ğŸ˜«" },
                    { value:4, text:"ğŸ˜µ" },
                    { value:5, text:"ğŸ’¤" }
                  ]
                },
                {
                  type: "rating", name: "fatigue2",
                  title: "ë­˜ í•´ë„ ì†Œìš©ì—†ë‹¤ëŠ” ìƒê°ì´ ë“¤ë©° ì˜ìš•ì´ ì‚¬ë¼ì¡Œë˜ ì ì´ ìˆë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value:1, text:"ğŸ˜" },
                    { value:2, text:"ğŸ˜“" },
                    { value:3, text:"ğŸ˜«" },
                    { value:4, text:"ğŸ˜µ" },
                    { value:5, text:"ğŸ’¤" }
                  ]
                }
              ]
            },
            // ìŠ¬í”” ì§ˆë¬¸ 3ê°œ
            {
              type: "panel",
              title: "ğŸ˜¢",
              visibleIf: "{ìŠ¬í””} = true",
              elements: [
                {
                  type: "rating", name: "sad1",
                  title: "ì•„ë¬´ ë§ ì—†ì´ë„ ëˆˆë¬¼ì´ ë‚  ê²ƒ ê°™ì€ ìˆœê°„ì´ ìˆì—ˆë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value:1, text:"ğŸ˜" },
                    { value:2, text:"ğŸ˜¢" },
                    { value:3, text:"ğŸ˜¿" },
                    { value:4, text:"ğŸ˜­" },
                    { value:5, text:"ğŸ–¤" }
                  ]
                },
                {
                  type: "rating", name: "sad2",
                  title: "ì–´ë–¤ ê°ì •ì¸ì§€ ì„¤ëª…ë„ ì˜ ì•ˆ ë˜ëŠ”ë°, ë§ˆìŒì´ ìê¾¸ ë¬´ë„ˆì¡Œë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value:1, text:"ğŸ˜" },
                    { value:2, text:"ğŸ˜¢" },
                    { value:3, text:"ğŸ˜¿" },
                    { value:4, text:"ğŸ˜­" },
                    { value:5, text:"ğŸ–¤" }
                  ]
                }
              ]
            },
            // ë¶€ì • ê°ì • ì£¼ê´€ì‹ ì§ˆë¬¸ 3ê°œ
            {
              type: "panel",
              name: "negShare",
              title: "ë‹µë³€ ë¶€íƒí•´ìš”",
              elements: [
                {
                  type: "comment",
                  name: "share1",
                  title: "1. ëˆ„êµ°ê°€ì—ê²Œ ë§í•˜ì§€ ëª»í•œ ì¼ì´ ìˆë‹¤ë©´, ì§€ê¸ˆ ì´ ìë¦¬ì—ì„œ ê·¸ ì¼ì— ëŒ€í•œ ê°ì •ì„ í‘œí˜„í•´ë³¼ ìˆ˜ ìˆì„ê¹Œìš”?",
                  placeHolder: "ì˜ˆ: \"ì¹œêµ¬ë‘ ì‹¸ìš¸ ë•Œ ë“¤ì€ ë§ì— ì•„ë¬´ë ‡ì§€ ì•Šì€ ì²™ í–ˆëŠ”ë°ë° ì‚¬ì‹¤ì€ ê·¸ ë§ì´ ë§ì´ ì•„íŒ ì–´ìš”.\""
                },
                {
                  type: "comment",
                  name: "share2",
                  title: "2. ì§€ê¸ˆ ë‚˜ë¥¼ ê°€ì¥ ì§€ì¹˜ê²Œ í•˜ëŠ” ê²ƒì´ ìˆë‹¤ë©´ ë¬´ì—‡ì¸ê°€ìš”?",
                  placeHolder: "ì˜ˆ: \"ê³„ì† ì˜í•´ì•¼ í•œë‹¤ëŠ” ì••ë°•ê°ì´ìš”.\""
                }
              ]
            }
          ]
        },

        // Page 3: ê¸ì • ê°ì • ì„¤ë¬¸

        {
          name: "page3",
          title: "ê¸ì • ê°ì • ì„¤ë¬¸",
          description: "ì„ íƒí•˜ì‹  ê¸ì • ê°ì •ì— ëŒ€í•´ ë‹µí•´ì£¼ì„¸ìš”.",
          elements: [
            // ğŸ˜Š ê¸°ì¨
            {
              type: "panel",
              title: "ğŸ˜Š",
              visibleIf: "{ê¸°ì¨} = true",
              elements: [
                {
                  type: "rating",
                  name: "joy1",
                  title: "ë‚˜ëŠ” ìš”ì¦˜ ì›ƒëŠ” ì‹œê°„ì´ ë§ë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value: 1, text: "ğŸ™‚" },
                    { value: 2, text: "ğŸ˜€" },
                    { value: 3, text: "ğŸ˜„" },
                    { value: 4, text: "ğŸ¤©" },
                    { value: 5, text: "ğŸ¥³" }
                  ]
                },
                {
                  type: "rating",
                  name: "joy2",
                  title: "ì£¼ë³€ ì‚¬ëŒë“¤ê³¼ì˜ ëŒ€í™”ì—ì„œ ì¦ê±°ì›€ì„ ìì£¼ ëŠë‚€ë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value: 1, text: "ğŸ™‚" },
                    { value: 2, text: "ğŸ˜€" },
                    { value: 3, text: "ğŸ˜„" },
                    { value: 4, text: "ğŸ¤©" },
                    { value: 5, text: "ğŸ¥³" }
                  ]
                }
              ]
            },
            // ğŸ’› í–‰ë³µ
            {
              type: "panel",
              title: "ğŸ’›",
              visibleIf: "{í–‰ë³µ} = true",
              elements: [
                {
                  type: "rating",
                  name: "happy1",
                  title: "ë‚˜ëŠ” ì§€ê¸ˆ ë‚´ ì‚¶ì— ë§Œì¡±í•˜ê³  ìˆë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value: 1, text: "ğŸ™‚" },
                    { value: 2, text: "ğŸ˜Š" },
                    { value: 3, text: "ğŸ˜Œ" },
                    { value: 4, text: "ğŸ˜" },
                    { value: 5, text: "ğŸ¥°" }
                  ]
                },
                {
                  type: "rating",
                  name: "happy2",
                  title: "ë‚˜ëŠ” ë‚˜ ìì‹ ì´ ì¶©ë¶„íˆ ê´œì°®ì€ ì‚¬ëŒì´ë¼ê³  ìƒê°í•œë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value: 1, text: "ğŸ™‚" },
                    { value: 2, text: "ğŸ˜Š" },
                    { value: 3, text: "ğŸ˜Œ" },
                    { value: 4, text: "ğŸ˜" },
                    { value: 5, text: "ğŸ¥°" }
                  ]
                }
              ]
            },
            // ğŸ˜Œ í‰ì˜¨
            {
              type: "panel",
              title: "ğŸ˜Œ",
              visibleIf: "{í‰ì˜¨} = true",
              elements: [
                {
                  type: "rating",
                  name: "calm1",
                  title: "ë‚˜ëŠ” ë§ˆìŒì´ í¸ì•ˆí•œ ì‹œê°„ì„ ê°–ê³  ìˆë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value: 1, text: "ğŸ˜" },
                    { value: 2, text: "ğŸ˜Œ" },
                    { value: 3, text: "ğŸ˜‡" },
                    { value: 4, text: "ğŸ§˜" },
                    { value: 5, text: "ğŸŒˆ" }
                  ]
                },
                {
                  type: "rating",
                  name: "calm2",
                  title: "ìŠ¤íŠ¸ë ˆìŠ¤ ìƒí™©ì—ì„œë„ ì°¨ë¶„í•˜ê²Œ ëŒ€ì²˜í•˜ë ¤ê³  í•œë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value: 1, text: "ğŸ˜" },
                    { value: 2, text: "ğŸ˜Œ" },
                    { value: 3, text: "ğŸ˜‡" },
                    { value: 4, text: "ğŸ§˜" },
                    { value: 5, text: "ğŸŒˆ" }
                  ]
                }
              ]
            },
            // ğŸ§˜ ë§Œì¡±ê°
            {
              type: "panel",
              title: "ğŸ§˜",
              visibleIf: "{ë§Œì¡±ê°} = true",
              elements: [
                {
                  type: "rating",
                  name: "satisfy1",
                  title: "ë‚˜ëŠ” ìµœê·¼ì— ë‚´ê°€ í•´ë‚¸ ì¼ì— ëŒ€í•´ ë§Œì¡±ê°ì„ ëŠë‚€ì ì´ 1íšŒ ì´ìƒ ìˆë‹¤.",
                  isRequired: true,
                  showClearButton : false,
                  rateValues: [
                    { value: 1, text: "ğŸ˜" },
                    { value: 2, text: "ğŸ™‚" },
                    { value: 3, text: "ğŸ˜Œ" },
                    { value: 4, text: "ğŸ˜" },
                    { value: 5, text: "ğŸ‘" }
                  ]
                },
                {
                  type: "comment",
                  name: "satisfy2",
                  title: "ìµœê·¼ â€˜ì˜í–ˆë‹¤, ê´œì°®ì•˜ë‹¤â€™ê³  ëŠê¼ˆë˜ ìˆœê°„ì´ ìˆë‹¤ë©´, ì–´ë–¤ê²ƒì¸ê°€ìš”ìš”?",
                  placeHolder: "ì˜ˆ: í˜ë“  í•˜ë£¨ë¥¼ ë²„í…¨ë‚¸ ì € ìì‹ ì—ê²Œ ì¹­ì°¬í–ˆì–´ìš”."
                }
              ]
            },
            // âœï¸ ê¸ì • ê°ì • ì£¼ê´€ì‹ ì§ˆë¬¸
            {
              type: "panel",
              name: "positiveShare",
              title: "ë‹µë³€ ë¶€íƒí•´ìš”",
              elements: [
                {
                  type: "comment",
                  name: "posShare1",
                  title: "1. ìµœê·¼ ì›ƒìŒì´ ë‚¬ë˜ ìˆœê°„ì´ ìˆë‹¤ë©´ ì ì–´ì£¼ì„¸ìš”.",
                  placeHolder: "ì˜ˆ: ì¹œêµ¬ë‘ ì¹´í˜ì—ì„œ ìˆ˜ë‹¤ ë–¨ë‹¤ ë¹µ í„°ì¡Œì–´ìš”."
                },
                {
                  type: "comment",
                  name: "posShare2",
                  title: "2. ë‹¹ì‹ ì—ê²Œ í¸ì•ˆí•¨ì„ì„ ì£¼ëŠ” ê³µê°„ì´ë‚˜ ìˆœê°„ì´ ìˆë‹¤ë©´ ë¬´ì—‡ì¸ê°€ìš”?",
                  placeHolder: "ì˜ˆ: í–‡ì‚´ ë“œëŠ” ì°½ê°€ì—ì„œ ì¡°ìš©íˆ ì•‰ì•„ ìˆì„ ë•Œìš”."
                },
                {
                  type: "comment",
                  name: "posShare3",
                  title: "3. ìš”ì¦˜ ë‚´ê°€ ì˜í•˜ê³  ìˆë‹¤ê³  ëŠë‚€ ìˆœê°„ì€ ì–¸ì œì¸ê°€ìš”?",
                  placeHolder: "ì˜ˆ: ì¼ê¸°ë¥¼ ë¹ ì§ì—†ì´ ì“°ê³  ìˆë‹¤ëŠ” ì ì´ ìë‘ìŠ¤ëŸ¬ì›Œìš”."
                }
              ]
            }
          ]
        }
      ]
    };

    const survey = new Survey.Model(surveyJson);
    survey.showClearButton = false;  // Clear ë²„íŠ¼ ë¹„í™œì„±í™”

    survey.onAfterRenderPage.add(function (s, options) {
      const footer = document.querySelector(".sv-footer__row");
      if (footer) {
        footer.style.flexDirection = "row-reverse";
        footer.style.justifyContent = "flex-end";
        footer.style.gap = "16px";
      }
    });


    $("#surveyContainer").Survey({
      model: survey,
      onComplete: function (result) {
        // ì„¤ë¬¸ ì™„ë£Œ í›„ ì²˜ë¦¬
        console.log("ì„¤ë¬¸ ê²°ê³¼:", result.data);
        document.getElementById("surveyContainer").style.display = "none";
        document.getElementById("completeMessage").style.display = "block";
        document.getElementById("skipBtn").style.display = "none";
        
        fetch("/submit", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(result.data)
        })
        .then(res => res.json())
        .then(data => console.log("ì„œë²„ ì‘ë‹µ:", data))
        .catch(err => console.error("ì„œë²„ ì „ì†¡ ì˜¤ë¥˜:", err));
      }
    });

    survey.onGetQuestionTitleActions.add(function(_, options) {
      options.titleActions = [];  // ëª¨ë“  ì•¡ì…˜ ì œê±°
    });


    document.getElementById("resultBtn").onclick = function () {
      alert("ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤!");
      window.location.href = "/result";
    };

    survey.showClearButton = false;

    survey.onCurrentPageChanged.add(function (sender, options) {
      const skipBtn = document.getElementById("skipBtn");
      const currentPageIndex = sender.currentPageNo;

      // page2 ë˜ëŠ” page3ì¼ ë•Œë§Œ skip ë²„íŠ¼ ë³´ì´ê¸°
      if (currentPageIndex === 1 || currentPageIndex === 2) {
        skipBtn.style.display = "inline-block";
      } else {
        skipBtn.style.display = "none";
      }
    });

    // skip ë²„íŠ¼ ëˆ„ë¥´ë©´ ë‹¤ìŒ í˜ì´ì§€ë¡œ ë„˜ì–´ê°€ê¸°
    document.getElementById("skipBtn").onclick = function () {
      const currentPage = survey.currentPage;
      currentPage.questions.forEach(q => q.isRequired = false); // í˜„ì¬ í˜ì´ì§€ì˜ ëª¨ë“  í•„ìˆ˜ í•­ëª© í•´ì œ
      survey.nextPage(); // ì´ì œ í˜ì´ì§€ ì´ë™ ê°€ëŠ¥
    };

    function closeSurveyIntro() {
      document.getElementById('surveyIntroModal').style.display = 'none';
    }

    window.onload = () => {
      setTimeout(() => {
        document.getElementById('surveyIntroModal').style.display = 'flex';
      }, 300); // 0.3ì´ˆ ë’¤ì— ìë™ íŒì—…
    };

  </script>
</body>
</html>
